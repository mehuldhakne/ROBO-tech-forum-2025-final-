<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Projects - Robotech</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header class="main-header">
        <h1 class="main-title">Projects</h1>
      </header>

      <main class="projects-container">
        <!-- Project 1: Autonomous Robot Navigation -->
        <section class="project-section" id="project-1">
          <h2 class="project-title">Autonomous Robot Navigation</h2>

          <!-- Image Carousel Section -->
          <div class="carousel-container" data-carousel="carousel-1">
            <div class="carousel-wrapper">
              <div class="carousel-track" id="carousel-1">
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=600&h=400&fit=crop"
                    alt="Robot Navigation 1"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1518611012118-696072aa579a?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1518611012118-696072aa579a?w=600&h=400&fit=crop"
                    alt="Robot Navigation 2"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=600&h=400&fit=crop"
                    alt="Robot Navigation 3"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1563207153-f403bf289096?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1563207153-f403bf289096?w=600&h=400&fit=crop"
                    alt="Robot Navigation 4"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=600&h=400&fit=crop"
                    alt="Robot Navigation 5"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Video Section -->
          <div class="video-section">
            <div class="video-container">
              <button
                class="video-nav-btn prev-btn"
                onclick="changeVideo('project-1', -1)"
              >
                ‹
              </button>
              <div class="video-wrapper">
                <video
                  controls
                  class="project-video active"
                  src="https://www.w3schools.com/html/mov_bbb.mp4"
                ></video>
                <video
                  controls
                  class="project-video"
                  src="https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4"
                ></video>
              </div>
              <button
                class="video-nav-btn next-btn"
                onclick="changeVideo('project-1', 1)"
              >
                ›
              </button>
            </div>
          </div>
        </section>

        <!-- Project 2: Robotic Arm Control System -->
        <section class="project-section" id="project-2">
          <h2 class="project-title">Robotic Arm Control System</h2>

          <!-- Image Carousel Section -->
          <div class="carousel-container" data-carousel="carousel-2">
            <div class="carousel-wrapper">
              <div class="carousel-track" id="carousel-2">
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1606041008023-472dfb5e530f?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1606041008023-472dfb5e530f?w=600&h=400&fit=crop"
                    alt="Robotic Arm 1"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1581092160607-ee22621dd758?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1581092160607-ee22621dd758?w=600&h=400&fit=crop"
                    alt="Robotic Arm 2"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1562408590-e32931084e23?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1562408590-e32931084e23?w=600&h=400&fit=crop"
                    alt="Robotic Arm 3"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1581093458791-9d42e72bbb5b?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1581093458791-9d42e72bbb5b?w=600&h=400&fit=crop"
                    alt="Robotic Arm 4"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1581094288338-2314dddb7ece?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1581094288338-2314dddb7ece?w=600&h=400&fit=crop"
                    alt="Robotic Arm 5"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Video Section -->
          <div class="video-section">
            <div class="video-container">
              <button
                class="video-nav-btn prev-btn"
                onclick="changeVideo('project-2', -1)"
              >
                ‹
              </button>
              <div class="video-wrapper">
                <video
                  controls
                  class="project-video active"
                  src="https://www.w3schools.com/html/mov_bbb.mp4"
                ></video>
                <video
                  controls
                  class="project-video"
                  src="https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4"
                ></video>
              </div>
              <button
                class="video-nav-btn next-btn"
                onclick="changeVideo('project-2', 1)"
              >
                ›
              </button>
            </div>
          </div>
        </section>

        <!-- Project 3: Smart Drone Technology -->
        <section class="project-section" id="project-3">
          <h2 class="project-title">Smart Drone Technology</h2>

          <!-- Image Carousel Section -->
          <div class="carousel-container" data-carousel="carousel-3">
            <div class="carousel-wrapper">
              <div class="carousel-track" id="carousel-3">
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1473968512647-3e447244af8f?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1473968512647-3e447244af8f?w=600&h=400&fit=crop"
                    alt="Smart Drone 1"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=600&h=400&fit=crop"
                    alt="Smart Drone 2"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=600&h=400&fit=crop"
                    alt="Smart Drone 3"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?w=600&h=400&fit=crop"
                    alt="Smart Drone 4"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
                <div
                  class="carousel-item"
                  data-image="https://images.unsplash.com/photo-1551410224-699683e15636?w=600&h=400&fit=crop"
                >
                  <img
                    src="https://images.unsplash.com/photo-1551410224-699683e15636?w=600&h=400&fit=crop"
                    alt="Smart Drone 5"
                  />
                  <button
                    class="view-full-btn hidden"
                    onclick="openImage(this)"
                  >
                    View Full
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Video Section -->
          <div class="video-section">
            <div class="video-container">
              <button
                class="video-nav-btn prev-btn"
                onclick="changeVideo('project-3', -1)"
              >
                ‹
              </button>
              <div class="video-wrapper">
                <video
                  controls
                  class="project-video active"
                  src="https://www.w3schools.com/html/mov_bbb.mp4"
                ></video>
                <video
                  controls
                  class="project-video"
                  src="https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4"
                ></video>
              </div>
              <button
                class="video-nav-btn next-btn"
                onclick="changeVideo('project-3', 1)"
              >
                ›
              </button>
            </div>
          </div>
        </section>
      </main>
    </div>

    <script src="app.js"></script>
  </body>
  <style>
    :root {
      /* Primitive Color Tokens */
      --color-white: rgba(255, 255, 255, 1);
      --color-black: rgba(0, 0, 0, 1);
      --color-cream-50: rgba(252, 252, 249, 1);
      --color-cream-100: rgba(255, 255, 253, 1);
      --color-gray-200: rgba(245, 245, 245, 1);
      --color-gray-300: rgba(167, 169, 169, 1);
      --color-gray-400: rgba(119, 124, 124, 1);
      --color-slate-500: rgba(98, 108, 113, 1);
      --color-brown-600: rgba(94, 82, 64, 1);
      --color-charcoal-700: rgba(31, 33, 33, 1);
      --color-charcoal-800: rgba(38, 40, 40, 1);
      --color-slate-900: rgba(19, 52, 59, 1);
      --color-teal-300: rgba(50, 184, 198, 1);
      --color-teal-400: rgba(45, 166, 178, 1);
      --color-teal-500: rgba(33, 128, 141, 1);
      --color-teal-600: rgba(29, 116, 128, 1);
      --color-teal-700: rgba(26, 104, 115, 1);
      --color-teal-800: rgba(41, 150, 161, 1);
      --color-red-400: rgba(255, 84, 89, 1);
      --color-red-500: rgba(192, 21, 47, 1);
      --color-orange-400: rgba(230, 129, 97, 1);
      --color-orange-500: rgba(168, 75, 47, 1);

      /* RGB versions for opacity control */
      --color-brown-600-rgb: 94, 82, 64;
      --color-teal-500-rgb: 33, 128, 141;
      --color-slate-900-rgb: 19, 52, 59;
      --color-slate-500-rgb: 98, 108, 113;
      --color-red-500-rgb: 192, 21, 47;
      --color-red-400-rgb: 255, 84, 89;
      --color-orange-500-rgb: 168, 75, 47;
      --color-orange-400-rgb: 230, 129, 97;

      /* Background color tokens (Light Mode) */
      --color-bg-1: rgba(59, 130, 246, 0.08); /* Light blue */
      --color-bg-2: rgba(245, 158, 11, 0.08); /* Light yellow */
      --color-bg-3: rgba(34, 197, 94, 0.08); /* Light green */
      --color-bg-4: rgba(239, 68, 68, 0.08); /* Light red */
      --color-bg-5: rgba(147, 51, 234, 0.08); /* Light purple */
      --color-bg-6: rgba(249, 115, 22, 0.08); /* Light orange */
      --color-bg-7: rgba(236, 72, 153, 0.08); /* Light pink */
      --color-bg-8: rgba(6, 182, 212, 0.08); /* Light cyan */

      /* Semantic Color Tokens (Light Mode) */
      --color-background: var(--color-cream-50);
      --color-surface: var(--color-cream-100);
      --color-text: var(--color-slate-900);
      --color-text-secondary: var(--color-slate-500);
      --color-primary: var(--color-teal-500);
      --color-primary-hover: var(--color-teal-600);
      --color-primary-active: var(--color-teal-700);
      --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
      --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
      --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
      --color-border: rgba(var(--color-brown-600-rgb), 0.2);
      --color-btn-primary-text: var(--color-cream-50);
      --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
      --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
      --color-error: var(--color-red-500);
      --color-success: var(--color-teal-500);
      --color-warning: var(--color-orange-500);
      --color-info: var(--color-slate-500);
      --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
      --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);

      /* Common style patterns */
      --focus-ring: 0 0 0 3px var(--color-focus-ring);
      --focus-outline: 2px solid var(--color-primary);
      --status-bg-opacity: 0.15;
      --status-border-opacity: 0.25;
      --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

      /* RGB versions for opacity control */
      --color-success-rgb: 33, 128, 141;
      --color-error-rgb: 192, 21, 47;
      --color-warning-rgb: 168, 75, 47;
      --color-info-rgb: 98, 108, 113;

      /* Typography */
      --font-family-base: 'FKGroteskNeue', 'Geist', 'Inter', -apple-system,
        BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      --font-family-mono: 'Berkeley Mono', ui-monospace, SFMono-Regular, Menlo,
        Monaco, Consolas, monospace;
      --font-size-xs: 11px;
      --font-size-sm: 12px;
      --font-size-base: 14px;
      --font-size-md: 14px;
      --font-size-lg: 16px;
      --font-size-xl: 18px;
      --font-size-2xl: 20px;
      --font-size-3xl: 24px;
      --font-size-4xl: 30px;
      --font-weight-normal: 400;
      --font-weight-medium: 500;
      --font-weight-semibold: 550;
      --font-weight-bold: 600;
      --line-height-tight: 1.2;
      --line-height-normal: 1.5;
      --letter-spacing-tight: -0.01em;

      /* Spacing */
      --space-0: 0;
      --space-1: 1px;
      --space-2: 2px;
      --space-4: 4px;
      --space-6: 6px;
      --space-8: 8px;
      --space-10: 10px;
      --space-12: 12px;
      --space-16: 16px;
      --space-20: 20px;
      --space-24: 24px;
      --space-32: 32px;

      /* Border Radius */
      --radius-sm: 6px;
      --radius-base: 8px;
      --radius-md: 10px;
      --radius-lg: 12px;
      --radius-full: 9999px;

      /* Shadows */
      --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.02);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04),
        0 2px 4px -1px rgba(0, 0, 0, 0.02);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04),
        0 4px 6px -2px rgba(0, 0, 0, 0.02);
      --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.15),
        inset 0 -1px 0 rgba(0, 0, 0, 0.03);

      /* Animation */
      --duration-fast: 150ms;
      --duration-normal: 250ms;
      --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);

      /* Layout */
      --container-sm: 640px;
      --container-md: 768px;
      --container-lg: 1024px;
      --container-xl: 1280px;
    }

    /* Dark mode colors */
    @media (prefers-color-scheme: dark) {
      :root {
        /* RGB versions for opacity control (Dark Mode) */
        --color-gray-400-rgb: 119, 124, 124;
        --color-teal-300-rgb: 50, 184, 198;
        --color-gray-300-rgb: 167, 169, 169;
        --color-gray-200-rgb: 245, 245, 245;

        /* Background color tokens (Dark Mode) */
        --color-bg-1: rgba(29, 78, 216, 0.15); /* Dark blue */
        --color-bg-2: rgba(180, 83, 9, 0.15); /* Dark yellow */
        --color-bg-3: rgba(21, 128, 61, 0.15); /* Dark green */
        --color-bg-4: rgba(185, 28, 28, 0.15); /* Dark red */
        --color-bg-5: rgba(107, 33, 168, 0.15); /* Dark purple */
        --color-bg-6: rgba(194, 65, 12, 0.15); /* Dark orange */
        --color-bg-7: rgba(190, 24, 93, 0.15); /* Dark pink */
        --color-bg-8: rgba(8, 145, 178, 0.15); /* Dark cyan */

        /* Semantic Color Tokens (Dark Mode) */
        --color-background: var(--color-charcoal-700);
        --color-surface: var(--color-charcoal-800);
        --color-text: var(--color-gray-200);
        --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
        --color-primary: var(--color-teal-300);
        --color-primary-hover: var(--color-teal-400);
        --color-primary-active: var(--color-teal-800);
        --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
        --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
        --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
        --color-border: rgba(var(--color-gray-400-rgb), 0.3);
        --color-error: var(--color-red-400);
        --color-success: var(--color-teal-300);
        --color-warning: var(--color-orange-400);
        --color-info: var(--color-gray-300);
        --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
        --color-btn-primary-text: var(--color-slate-900);
        --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
        --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
        --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
          inset 0 -1px 0 rgba(0, 0, 0, 0.15);
        --button-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
        --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
        --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);

        /* Common style patterns - updated for dark mode */
        --focus-ring: 0 0 0 3px var(--color-focus-ring);
        --focus-outline: 2px solid var(--color-primary);
        --status-bg-opacity: 0.15;
        --status-border-opacity: 0.25;
        --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
        --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

        /* RGB versions for dark mode */
        --color-success-rgb: var(--color-teal-300-rgb);
        --color-error-rgb: var(--color-red-400-rgb);
        --color-warning-rgb: var(--color-orange-400-rgb);
        --color-info-rgb: var(--color-gray-300-rgb);
      }
    }

    /* Data attribute for manual theme switching */
    [data-color-scheme='dark'] {
      /* RGB versions for opacity control (dark mode) */
      --color-gray-400-rgb: 119, 124, 124;
      --color-teal-300-rgb: 50, 184, 198;
      --color-gray-300-rgb: 167, 169, 169;
      --color-gray-200-rgb: 245, 245, 245;

      /* Colorful background palette - Dark Mode */
      --color-bg-1: rgba(29, 78, 216, 0.15); /* Dark blue */
      --color-bg-2: rgba(180, 83, 9, 0.15); /* Dark yellow */
      --color-bg-3: rgba(21, 128, 61, 0.15); /* Dark green */
      --color-bg-4: rgba(185, 28, 28, 0.15); /* Dark red */
      --color-bg-5: rgba(107, 33, 168, 0.15); /* Dark purple */
      --color-bg-6: rgba(194, 65, 12, 0.15); /* Dark orange */
      --color-bg-7: rgba(190, 24, 93, 0.15); /* Dark pink */
      --color-bg-8: rgba(8, 145, 178, 0.15); /* Dark cyan */

      /* Semantic Color Tokens (Dark Mode) */
      --color-background: var(--color-charcoal-700);
      --color-surface: var(--color-charcoal-800);
      --color-text: var(--color-gray-200);
      --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
      --color-primary: var(--color-teal-300);
      --color-primary-hover: var(--color-teal-400);
      --color-primary-active: var(--color-teal-800);
      --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
      --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
      --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
      --color-border: rgba(var(--color-gray-400-rgb), 0.3);
      --color-error: var(--color-red-400);
      --color-success: var(--color-teal-300);
      --color-warning: var(--color-orange-400);
      --color-info: var(--color-gray-300);
      --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
      --color-btn-primary-text: var(--color-slate-900);
      --color-card-border: rgba(var(--color-gray-400-rgb), 0.15);
      --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
      --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
        inset 0 -1px 0 rgba(0, 0, 0, 0.15);
      --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
      --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);

      /* Common style patterns - updated for dark mode */
      --focus-ring: 0 0 0 3px var(--color-focus-ring);
      --focus-outline: 2px solid var(--color-primary);
      --status-bg-opacity: 0.15;
      --status-border-opacity: 0.25;
      --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

      /* RGB versions for dark mode */
      --color-success-rgb: var(--color-teal-300-rgb);
      --color-error-rgb: var(--color-red-400-rgb);
      --color-warning-rgb: var(--color-orange-400-rgb);
      --color-info-rgb: var(--color-gray-300-rgb);
    }

    [data-color-scheme='light'] {
      /* RGB versions for opacity control (light mode) */
      --color-brown-600-rgb: 94, 82, 64;
      --color-teal-500-rgb: 33, 128, 141;
      --color-slate-900-rgb: 19, 52, 59;

      /* Semantic Color Tokens (Light Mode) */
      --color-background: var(--color-cream-50);
      --color-surface: var(--color-cream-100);
      --color-text: var(--color-slate-900);
      --color-text-secondary: var(--color-slate-500);
      --color-primary: var(--color-teal-500);
      --color-primary-hover: var(--color-teal-600);
      --color-primary-active: var(--color-teal-700);
      --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
      --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
      --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
      --color-border: rgba(var(--color-brown-600-rgb), 0.2);
      --color-btn-primary-text: var(--color-cream-50);
      --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
      --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
      --color-error: var(--color-red-500);
      --color-success: var(--color-teal-500);
      --color-warning: var(--color-orange-500);
      --color-info: var(--color-slate-500);
      --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);

      /* RGB versions for light mode */
      --color-success-rgb: var(--color-teal-500-rgb);
      --color-error-rgb: var(--color-red-500-rgb);
      --color-warning-rgb: var(--color-orange-500-rgb);
      --color-info-rgb: var(--color-slate-500-rgb);
    }

    /* Base styles */
    html {
      font-size: var(--font-size-base);
      font-family: var(--font-family-base);
      line-height: var(--line-height-normal);
      color: var(--color-text);
      background-color: var(--color-background);
      -webkit-font-smoothing: antialiased;
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
    }

    *,
    *::before,
    *::after {
      box-sizing: inherit;
    }

    /* Typography */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      margin: 0;
      font-weight: var(--font-weight-semibold);
      line-height: var(--line-height-tight);
      color: var(--color-text);
      letter-spacing: var(--letter-spacing-tight);
    }

    h1 {
      font-size: var(--font-size-4xl);
    }
    h2 {
      font-size: var(--font-size-3xl);
    }
    h3 {
      font-size: var(--font-size-2xl);
    }
    h4 {
      font-size: var(--font-size-xl);
    }
    h5 {
      font-size: var(--font-size-lg);
    }
    h6 {
      font-size: var(--font-size-md);
    }

    p {
      margin: 0 0 var(--space-16) 0;
    }

    a {
      color: var(--color-primary);
      text-decoration: none;
      transition: color var(--duration-fast) var(--ease-standard);
    }

    a:hover {
      color: var(--color-primary-hover);
    }

    code,
    pre {
      font-family: var(--font-family-mono);
      font-size: calc(var(--font-size-base) * 0.95);
      background-color: var(--color-secondary);
      border-radius: var(--radius-sm);
    }

    code {
      padding: var(--space-1) var(--space-4);
    }

    pre {
      padding: var(--space-16);
      margin: var(--space-16) 0;
      overflow: auto;
      border: 1px solid var(--color-border);
    }

    pre code {
      background: none;
      padding: 0;
    }

    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: var(--space-8) var(--space-16);
      border-radius: var(--radius-base);
      font-size: var(--font-size-base);
      font-weight: 500;
      line-height: 1.5;
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-standard);
      border: none;
      text-decoration: none;
      position: relative;
    }

    .btn:focus-visible {
      outline: none;
      box-shadow: var(--focus-ring);
    }

    .btn--primary {
      background: var(--color-primary);
      color: var(--color-btn-primary-text);
    }

    .btn--primary:hover {
      background: var(--color-primary-hover);
    }

    .btn--primary:active {
      background: var(--color-primary-active);
    }

    .btn--secondary {
      background: var(--color-secondary);
      color: var(--color-text);
    }

    .btn--secondary:hover {
      background: var(--color-secondary-hover);
    }

    .btn--secondary:active {
      background: var(--color-secondary-active);
    }

    .btn--outline {
      background: transparent;
      border: 1px solid var(--color-border);
      color: var(--color-text);
    }

    .btn--outline:hover {
      background: var(--color-secondary);
    }

    .btn--sm {
      padding: var(--space-4) var(--space-12);
      font-size: var(--font-size-sm);
      border-radius: var(--radius-sm);
    }

    .btn--lg {
      padding: var(--space-10) var(--space-20);
      font-size: var(--font-size-lg);
      border-radius: var(--radius-md);
    }

    .btn--full-width {
      width: 100%;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Form elements */
    .form-control {
      display: block;
      width: 100%;
      padding: var(--space-8) var(--space-12);
      font-size: var(--font-size-md);
      line-height: 1.5;
      color: var(--color-text);
      background-color: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-base);
      transition: border-color var(--duration-fast) var(--ease-standard),
        box-shadow var(--duration-fast) var(--ease-standard);
    }

    textarea.form-control {
      font-family: var(--font-family-base);
      font-size: var(--font-size-base);
    }

    select.form-control {
      padding: var(--space-8) var(--space-12);
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      background-image: var(--select-caret-light);
      background-repeat: no-repeat;
      background-position: right var(--space-12) center;
      background-size: 16px;
      padding-right: var(--space-32);
    }

    /* Add a dark mode specific caret */
    @media (prefers-color-scheme: dark) {
      select.form-control {
        background-image: var(--select-caret-dark);
      }
    }

    /* Also handle data-color-scheme */
    [data-color-scheme='dark'] select.form-control {
      background-image: var(--select-caret-dark);
    }

    [data-color-scheme='light'] select.form-control {
      background-image: var(--select-caret-light);
    }

    .form-control:focus {
      border-color: var(--color-primary);
      outline: var(--focus-outline);
    }

    .form-label {
      display: block;
      margin-bottom: var(--space-8);
      font-weight: var(--font-weight-medium);
      font-size: var(--font-size-sm);
    }

    .form-group {
      margin-bottom: var(--space-16);
    }

    /* Card component */
    .card {
      background-color: var(--color-surface);
      border-radius: var(--radius-lg);
      border: 1px solid var(--color-card-border);
      box-shadow: var(--shadow-sm);
      overflow: hidden;
      transition: box-shadow var(--duration-normal) var(--ease-standard);
    }

    .card:hover {
      box-shadow: var(--shadow-md);
    }

    .card__body {
      padding: var(--space-16);
    }

    .card__header,
    .card__footer {
      padding: var(--space-16);
      border-bottom: 1px solid var(--color-card-border-inner);
    }

    /* Status indicators - simplified with CSS variables */
    .status {
      display: inline-flex;
      align-items: center;
      padding: var(--space-6) var(--space-12);
      border-radius: var(--radius-full);
      font-weight: var(--font-weight-medium);
      font-size: var(--font-size-sm);
    }

    .status--success {
      background-color: rgba(
        var(--color-success-rgb, 33, 128, 141),
        var(--status-bg-opacity)
      );
      color: var(--color-success);
      border: 1px solid
        rgba(
          var(--color-success-rgb, 33, 128, 141),
          var(--status-border-opacity)
        );
    }

    .status--error {
      background-color: rgba(
        var(--color-error-rgb, 192, 21, 47),
        var(--status-bg-opacity)
      );
      color: var(--color-error);
      border: 1px solid
        rgba(var(--color-error-rgb, 192, 21, 47), var(--status-border-opacity));
    }

    .status--warning {
      background-color: rgba(
        var(--color-warning-rgb, 168, 75, 47),
        var(--status-bg-opacity)
      );
      color: var(--color-warning);
      border: 1px solid
        rgba(
          var(--color-warning-rgb, 168, 75, 47),
          var(--status-border-opacity)
        );
    }

    .status--info {
      background-color: rgba(
        var(--color-info-rgb, 98, 108, 113),
        var(--status-bg-opacity)
      );
      color: var(--color-info);
      border: 1px solid
        rgba(var(--color-info-rgb, 98, 108, 113), var(--status-border-opacity));
    }

    /* Container layout */
    .container {
      width: 100%;
      margin-right: auto;
      margin-left: auto;
      padding-right: var(--space-16);
      padding-left: var(--space-16);
    }

    @media (min-width: 640px) {
      .container {
        max-width: var(--container-sm);
      }
    }
    @media (min-width: 768px) {
      .container {
        max-width: var(--container-md);
      }
    }
    @media (min-width: 1024px) {
      .container {
        max-width: var(--container-lg);
      }
    }
    @media (min-width: 1280px) {
      .container {
        max-width: var(--container-xl);
      }
    }

    /* Utility classes */
    .flex {
      display: flex;
    }
    .flex-col {
      flex-direction: column;
    }
    .items-center {
      align-items: center;
    }
    .justify-center {
      justify-content: center;
    }
    .justify-between {
      justify-content: space-between;
    }
    .gap-4 {
      gap: var(--space-4);
    }
    .gap-8 {
      gap: var(--space-8);
    }
    .gap-16 {
      gap: var(--space-16);
    }

    .m-0 {
      margin: 0;
    }
    .mt-8 {
      margin-top: var(--space-8);
    }
    .mb-8 {
      margin-bottom: var(--space-8);
    }
    .mx-8 {
      margin-left: var(--space-8);
      margin-right: var(--space-8);
    }
    .my-8 {
      margin-top: var(--space-8);
      margin-bottom: var(--space-8);
    }

    .p-0 {
      padding: 0;
    }
    .py-8 {
      padding-top: var(--space-8);
      padding-bottom: var(--space-8);
    }
    .px-8 {
      padding-left: var(--space-8);
      padding-right: var(--space-8);
    }
    .py-16 {
      padding-top: var(--space-16);
      padding-bottom: var(--space-16);
    }
    .px-16 {
      padding-left: var(--space-16);
      padding-right: var(--space-16);
    }

    .block {
      display: block;
    }
    .hidden {
      display: none;
    }

    /* Accessibility */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }

    :focus-visible {
      outline: var(--focus-outline);
      outline-offset: 2px;
    }

    /* Dark mode specifics */
    [data-color-scheme='dark'] .btn--outline {
      border: 1px solid var(--color-border-secondary);
    }

    @font-face {
      font-family: 'FKGroteskNeue';
      src: url('https://r2cdn.perplexity.ai/fonts/FKGroteskNeue.woff2')
        format('woff2');
    }

    /* END PERPLEXITY DESIGN SYSTEM */
    /* Custom color overrides for Robotech theme */
    :root {
      --robotech-primary: #0092f8;
      --robotech-secondary: #13d2f4;
      --robotech-background: #ffffff;
      --robotech-text: #333333;
      --robotech-shadow: rgba(0, 146, 248, 0.1);
      --robotech-hover: rgba(19, 210, 244, 0.1);
    }

    /* Base styles */
    body {
      background-color: var(--robotech-background);
      color: var(--robotech-text);
      font-family: var(--font-family-base);
      margin: 0;
      padding: 0;
      line-height: var(--line-height-normal);
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: var(--space-32) var(--space-16);
    }

    /* Header styles */
    .main-header {
      text-align: center;
      margin-bottom: var(--space-32);
    }

    .main-title {
      font-size: var(--font-size-4xl);
      font-weight: var(--font-weight-bold);
      color: var(--robotech-primary);
      margin: 0;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    /* Projects container */
    .projects-container {
      display: flex;
      flex-direction: column;
      gap: 4rem;
    }

    /* Project section styles */
    .project-section {
      margin-bottom: 3rem;
      padding: var(--space-24);
      border-radius: var(--radius-lg);
      transition: all var(--duration-normal) var(--ease-standard);
      border: 1px solid rgba(0, 146, 248, 0.1);
    }

    .project-section:hover {
      background: rgba(19, 210, 244, 0.02);
      transform: translateY(-2px);
    }

    .project-title {
      font-size: var(--font-size-3xl);
      font-weight: var(--font-weight-semibold);
      color: var(--robotech-primary);
      text-align: center;
      margin-bottom: var(--space-32);
      position: relative;
    }

    .project-title::after {
      content: '';
      display: block;
      width: 80px;
      height: 3px;
      background: linear-gradient(
        90deg,
        var(--robotech-primary),
        var(--robotech-secondary)
      );
      margin: var(--space-16) auto 0;
      border-radius: var(--radius-full);
    }

    /* Carousel styles - Optimized for auto-scroll */
    .carousel-container {
      width: 100%;
      margin: 0 auto var(--space-32);
      overflow: hidden;
      border-radius: var(--radius-lg);
      box-shadow: 0 8px 32px var(--robotech-shadow);
      background: var(--color-surface);
      position: relative;
    }

    .carousel-container::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(
        45deg,
        var(--robotech-primary),
        var(--robotech-secondary)
      );
      border-radius: var(--radius-lg);
      z-index: -1;
      opacity: 0;
      transition: opacity var(--duration-normal) var(--ease-standard);
    }

    .carousel-container:hover::before {
      opacity: 0.1;
    }

    .carousel-wrapper {
      position: relative;
      height: 250px;
      width: 100%;
      overflow: hidden;
    }

    .carousel-track {
      display: flex;
      height: 100%;
      /* Increased width for smoother scrolling */
      transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      width: max-content;
    }

    .carousel-track.paused {
      /* Maintains smooth transitions even when paused */
    }

    .carousel-item {
      flex: 0 0 300px;
      height: 100%;
      margin-right: var(--space-16);
      position: relative;
      border-radius: var(--radius-base);
      overflow: hidden;
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-standard);
      background: var(--color-surface);
    }

    .carousel-item:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 16px 48px var(--robotech-shadow);
    }

    .carousel-item:hover::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--robotech-hover);
      z-index: 1;
      transition: all var(--duration-normal) var(--ease-standard);
    }

    .carousel-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transition: transform var(--duration-normal) var(--ease-standard);
      opacity: 0;
      animation: fadeIn 0.5s ease-in-out forwards;
    }

    .carousel-item:hover img {
      transform: scale(1.05);
    }

    .carousel-item.clicked {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px var(--robotech-shadow);
    }

    .carousel-item.clicked::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 146, 248, 0.15);
      z-index: 1;
    }

    .view-full-btn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: var(--robotech-primary);
      color: white;
      border: none;
      padding: var(--space-8) var(--space-16);
      border-radius: var(--radius-full);
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-medium);
      cursor: pointer;
      z-index: 2;
      transition: all var(--duration-normal) var(--ease-standard);
      box-shadow: 0 4px 16px rgba(0, 146, 248, 0.3);
      opacity: 0;
      pointer-events: none;
    }

    .view-full-btn:hover {
      background: var(--robotech-secondary);
      transform: translate(-50%, -50%) scale(1.05);
      box-shadow: 0 6px 20px rgba(19, 210, 244, 0.4);
    }

    .view-full-btn.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .carousel-item.clicked .view-full-btn {
      opacity: 1;
      pointer-events: all;
    }

    /* Video section styles */
    .video-section {
      margin-top: var(--space-32);
    }

    .video-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-16);
      width: 80%;
      margin: 0 auto;
    }

    .video-wrapper {
      position: relative;
      flex: 1;
      max-width: 800px;
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: 0 8px 32px var(--robotech-shadow);
    }

    .project-video {
      width: 100%;
      height: 400px;
      object-fit: cover;
      display: none;
      border-radius: var(--radius-lg);
      background: #000;
    }

    .project-video.active {
      display: block;
    }

    .video-nav-btn {
      background: var(--robotech-primary);
      color: white;
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-standard);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 16px rgba(0, 146, 248, 0.3);
      user-select: none;
    }

    .video-nav-btn:hover {
      background: var(--robotech-secondary);
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(19, 210, 244, 0.4);
    }

    .video-nav-btn:active {
      transform: scale(0.95);
    }

    .video-nav-btn:focus {
      outline: 2px solid var(--robotech-secondary);
      outline-offset: 2px;
    }

    /* Fade in animation for images */
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    /* Focus styles for accessibility */
    .carousel-item:focus,
    .video-nav-btn:focus,
    .view-full-btn:focus {
      outline: 2px solid var(--robotech-secondary);
      outline-offset: 2px;
    }

    .carousel-item {
      outline: none;
    }

    .carousel-item:focus {
      box-shadow: 0 0 0 3px rgba(19, 210, 244, 0.3);
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .container {
        padding: var(--space-16);
      }

      .main-title {
        font-size: var(--font-size-3xl);
      }

      .project-title {
        font-size: var(--font-size-2xl);
      }

      .carousel-container {
        width: 95%;
      }

      .carousel-wrapper {
        height: 250px;
      }

      .carousel-item {
        flex: 0 0 250px;
      }

      .video-container {
        width: 95%;
        flex-direction: column;
        gap: var(--space-12);
      }

      .video-wrapper {
        width: 100%;
      }

      .project-video {
        height: 300px;
      }

      .video-nav-btn {
        width: 40px;
        height: 40px;
        font-size: 20px;
      }

      .projects-container {
        gap: 3rem;
      }
    }

    @media (max-width: 480px) {
      .carousel-wrapper {
        height: 200px;
      }

      .carousel-item {
        flex: 0 0 200px;
      }

      .project-video {
        height: 250px;
      }

      .view-full-btn {
        padding: var(--space-6) var(--space-12);
        font-size: var(--font-size-xs);
      }

      .main-title {
        font-size: var(--font-size-2xl);
        letter-spacing: 1px;
      }

      .project-title {
        font-size: var(--font-size-xl);
      }
    }

    /* Smooth transitions for all interactive elements */
    button,
    .carousel-item,
    .project-video {
      transition: all var(--duration-fast) var(--ease-standard);
    }

    /* Error handling for images */
    .carousel-item img[src=''],
    .carousel-item img:not([src]) {
      background-color: var(--robotech-hover);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .carousel-item img[src='']::after,
    .carousel-item img:not([src])::after {
      content: 'Image not available';
      color: var(--robotech-text);
      font-size: var(--font-size-sm);
    }
  </style>
  <script>
    // Global variables for carousel management
    let carouselIntervals = {};
    let carouselStates = {};
    let currentVideoIndex = {};

    // Initialize the application when DOM is loaded
    document.addEventListener('DOMContentLoaded', function () {
      console.log(
        'Initializing Robotech Projects page with auto-scroll carousels...'
      );
      // Add a small delay to ensure all images are loaded
      setTimeout(() => {
        initializeCarousels();
        initializeVideoSections();
      }, 500);
    });

    // Initialize all carousels with auto-scroll functionality
    function initializeCarousels() {
      const carousels = document.querySelectorAll('.carousel-track');
      console.log('Found carousels:', carousels.length);

      carousels.forEach((carousel) => {
        const carouselId = carousel.id;
        console.log('Initializing carousel:', carouselId);

        const items = carousel.querySelectorAll('.carousel-item');

        // Initialize carousel state
        carouselStates[carouselId] = {
          currentIndex: 0,
          isHovered: false,
          isPaused: false,
          itemCount: items.length,
          itemWidth: 316, // 300px + 16px margin
        };

        console.log(`Carousel ${carouselId} has ${items.length} items`);

        // Start auto-scroll immediately
        startAutoScroll(carouselId);

        // Add event listeners for hover and click functionality
        setupCarouselInteractions(carousel, carouselId);

        // Ensure images are loaded properly
        items.forEach((item, index) => {
          const img = item.querySelector('img');
          if (img) {
            img.onload = () =>
              console.log(`Image ${index} loaded for ${carouselId}`);
            img.onerror = () =>
              console.error(`Image ${index} failed to load for ${carouselId}`);
          }
        });
      });
    }

    // Start auto-scroll for a carousel
    function startAutoScroll(carouselId) {
      console.log('Starting auto-scroll for:', carouselId);
      const carousel = document.getElementById(carouselId);
      if (!carousel) {
        console.error('Carousel not found:', carouselId);
        return;
      }

      const state = carouselStates[carouselId];
      if (!state) {
        console.error('Carousel state not found:', carouselId);
        return;
      }

      // Clear any existing interval
      if (carouselIntervals[carouselId]) {
        clearInterval(carouselIntervals[carouselId]);
        console.log('Cleared existing interval for:', carouselId);
      }

      // Start the interval for auto-scrolling every 8 seconds
      carouselIntervals[carouselId] = setInterval(() => {
        console.log(
          `Auto-scroll tick for ${carouselId}, hovered: ${state.isHovered}, paused: ${state.isPaused}`
        );
        if (!state.isHovered && !state.isPaused) {
          moveCarousel(carouselId, 1);
        }
      }, 8000); // 8 seconds as requested

      console.log(
        'Auto-scroll interval started for:',
        carouselId,
        'with ID:',
        carouselIntervals[carouselId]
      );
    }

    // Move carousel to next/previous position
    function moveCarousel(carouselId, direction = 1) {
      const carousel = document.getElementById(carouselId);
      const state = carouselStates[carouselId];
      if (!carousel || !state) {
        console.error(
          'Carousel or state not found for moveCarousel:',
          carouselId
        );
        return;
      }

      console.log(
        `Moving carousel ${carouselId} from index ${state.currentIndex}`
      );

      // Update current index
      state.currentIndex += direction;

      // Handle infinite loop - when reaching the end, smoothly go back to beginning
      if (state.currentIndex >= state.itemCount) {
        state.currentIndex = 0;
        console.log('Resetting carousel to beginning for infinite loop');
      } else if (state.currentIndex < 0) {
        state.currentIndex = state.itemCount - 1;
      }

      // Calculate transform position
      const translateX = -state.currentIndex * state.itemWidth;

      // Apply smooth transform
      carousel.style.transform = `translateX(${translateX}px)`;
      console.log(
        `Moved ${carouselId} to index ${state.currentIndex}, translateX: ${translateX}px`
      );
    }

    // Setup hover and click interactions for carousel
    function setupCarouselInteractions(carousel, carouselId) {
      const carouselContainer = carousel.closest('.carousel-container');
      const items = carousel.querySelectorAll('.carousel-item');

      // Hover events on carousel container for pause/resume
      carouselContainer.addEventListener('mouseenter', function () {
        console.log(
          'Mouse entered carousel:',
          carouselId,
          '- Pausing auto-scroll'
        );
        carouselStates[carouselId].isHovered = true;
      });

      carouselContainer.addEventListener('mouseleave', function () {
        console.log(
          'Mouse left carousel:',
          carouselId,
          '- Resuming auto-scroll'
        );
        carouselStates[carouselId].isHovered = false;
      });

      // Click events on carousel items
      items.forEach((item, index) => {
        item.addEventListener('click', function (e) {
          console.log('Carousel item clicked:', carouselId, 'index:', index);
          e.stopPropagation();

          // Permanently pause the carousel
          carouselStates[carouselId].isPaused = true;
          console.log('Carousel permanently paused:', carouselId);

          // Remove clicked state from all items in this carousel
          items.forEach((otherItem) => {
            otherItem.classList.remove('clicked');
            const otherBtn = otherItem.querySelector('.view-full-btn');
            if (otherBtn) {
              otherBtn.classList.add('hidden');
            }
          });

          // Add clicked state to this item
          this.classList.add('clicked');

          // Show the view full button for this item
          const viewBtn = this.querySelector('.view-full-btn');
          if (viewBtn) {
            viewBtn.classList.remove('hidden');
            console.log('View Full button shown for item:', index);
          }
        });

        // View Full button click handler
        const viewFullBtn = item.querySelector('.view-full-btn');
        if (viewFullBtn) {
          viewFullBtn.addEventListener('click', function (e) {
            console.log('View Full button clicked for item:', index);
            e.stopPropagation();
            e.preventDefault();
            openImageInNewWindow(this);
          });
        }
      });
    }

    // Open image in new window/tab - Enhanced version
    function openImageInNewWindow(button) {
      console.log('Opening image in new window');
      const carouselItem = button.closest('.carousel-item');
      const img = carouselItem.querySelector('img');

      // Get image URL from both data attribute and img src
      let imageUrl =
        carouselItem.getAttribute('data-image') || (img ? img.src : null);

      console.log('Image URL:', imageUrl);

      if (!imageUrl) {
        console.error('No image URL found');
        alert('Image not available');
        return;
      }

      try {
        // Method 1: Direct window.open
        console.log('Attempting to open image in new window:', imageUrl);
        const newWindow = window.open('', '_blank');

        if (newWindow) {
          // Create HTML content for the new window
          newWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>Project Image</title>
                    <style>
                        body { 
                            margin: 0; 
                            padding: 20px; 
                            background: #000; 
                            display: flex; 
                            justify-content: center; 
                            align-items: center; 
                            min-height: 100vh;
                        }
                        img { 
                            max-width: 100%; 
                            max-height: 100%; 
                            object-fit: contain;
                            border-radius: 8px;
                            box-shadow: 0 8px 32px rgba(255, 255, 255, 0.1);
                        }
                    </style>
                </head>
                <body>
                    <img src="${imageUrl}" alt="Project Image" />
                </body>
                </html>
            `);
          newWindow.document.close();
          newWindow.focus();
          console.log('Successfully opened image in new window');
        } else {
          console.log('Popup blocked, trying alternative method');
          openImageAlternative(imageUrl);
        }
      } catch (error) {
        console.error('Error opening image:', error);
        openImageAlternative(imageUrl);
      }
    }

    // Alternative method when popup is blocked
    function openImageAlternative(imageUrl) {
      console.log('Using alternative image opening method');

      // Create a temporary link and click it
      const link = document.createElement('a');
      link.href = imageUrl;
      link.target = '_blank';
      link.rel = 'noopener noreferrer';
      link.download = 'project-image.jpg';

      // Add to document, click, then remove
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);

      console.log('Alternative method executed');
    }

    // Legacy function for backward compatibility
    function openImage(button) {
      openImageInNewWindow(button);
    }

    // Initialize video sections
    function initializeVideoSections() {
      const projectSections = document.querySelectorAll('.project-section');

      projectSections.forEach((section) => {
        const projectId = section.id;
        currentVideoIndex[projectId] = 0;

        // Initialize first video as active
        const videos = section.querySelectorAll('.project-video');
        if (videos.length > 0) {
          videos[0].classList.add('active');
          console.log(
            `Initialized video section for ${projectId} with ${videos.length} videos`
          );
          // Pause all other videos
          videos.forEach((video, index) => {
            if (index !== 0) {
              video.pause();
            }
          });
        }
      });
    }

    // Change video function for navigation
    function changeVideo(projectId, direction) {
      console.log(
        'Changing video for project:',
        projectId,
        'direction:',
        direction
      );
      const section = document.getElementById(projectId);
      if (!section) return;

      const videos = section.querySelectorAll('.project-video');

      if (videos.length <= 1) return; // No need to change if only one video

      // Hide current video
      videos[currentVideoIndex[projectId]].classList.remove('active');
      videos[currentVideoIndex[projectId]].pause();

      // Calculate new index
      currentVideoIndex[projectId] += direction;

      // Handle wraparound
      if (currentVideoIndex[projectId] >= videos.length) {
        currentVideoIndex[projectId] = 0;
      } else if (currentVideoIndex[projectId] < 0) {
        currentVideoIndex[projectId] = videos.length - 1;
      }

      // Show new video
      const newVideo = videos[currentVideoIndex[projectId]];
      newVideo.classList.add('active');

      console.log('Video changed to index:', currentVideoIndex[projectId]);
    }

    // Handle page visibility changes to pause/resume carousels
    document.addEventListener('visibilitychange', function () {
      if (document.hidden) {
        console.log('Page hidden, pausing all carousels');
        Object.keys(carouselIntervals).forEach((carouselId) => {
          if (carouselIntervals[carouselId]) {
            clearInterval(carouselIntervals[carouselId]);
            console.log('Paused interval for:', carouselId);
          }
        });
      } else {
        console.log('Page visible, resuming non-paused carousels');
        Object.keys(carouselStates).forEach((carouselId) => {
          const state = carouselStates[carouselId];
          if (state && !state.isPaused) {
            startAutoScroll(carouselId);
            console.log('Resumed auto-scroll for:', carouselId);
          }
        });
      }
    });

    // Keyboard navigation - ESC to resume paused carousels
    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape') {
        console.log('Escape pressed, resuming all paused carousels');
        const clickedItems = document.querySelectorAll(
          '.carousel-item.clicked'
        );
        clickedItems.forEach((item) => {
          item.classList.remove('clicked');
          const viewBtn = item.querySelector('.view-full-btn');
          if (viewBtn) {
            viewBtn.classList.add('hidden');
          }

          const carousel = item.closest('.carousel-track');
          const carouselId = carousel.id;
          const state = carouselStates[carouselId];
          if (state) {
            state.isPaused = false;
            if (!carouselIntervals[carouselId]) {
              startAutoScroll(carouselId);
            }
          }
        });
      }
    });

    // Click outside carousel to resume if paused
    document.addEventListener('click', function (e) {
      // Check if click is outside any carousel
      if (
        !e.target.closest('.carousel-container') &&
        !e.target.closest('.view-full-btn')
      ) {
        const clickedItems = document.querySelectorAll(
          '.carousel-item.clicked'
        );
        if (clickedItems.length > 0) {
          console.log('Clicked outside carousel, resuming paused carousels');
          clickedItems.forEach((item) => {
            item.classList.remove('clicked');
            const viewBtn = item.querySelector('.view-full-btn');
            if (viewBtn) {
              viewBtn.classList.add('hidden');
            }

            const carousel = item.closest('.carousel-track');
            const carouselId = carousel.id;
            const state = carouselStates[carouselId];
            if (state) {
              state.isPaused = false;
              if (!carouselIntervals[carouselId]) {
                startAutoScroll(carouselId);
              }
            }
          });
        }
      }
    });

    // Debug function to check carousel status
    window.debugCarousels = function () {
      console.log('=== CAROUSEL DEBUG INFO ===');
      console.log('Active carousel intervals:', Object.keys(carouselIntervals));
      console.log('Carousel states:', carouselStates);
      console.log('Current video indices:', currentVideoIndex);

      // Test auto-scroll manually
      Object.keys(carouselStates).forEach((carouselId) => {
        console.log(`Testing ${carouselId}:`, carouselStates[carouselId]);
        moveCarousel(carouselId, 1);
      });
    };

    // Auto-start debug info after 10 seconds
    setTimeout(() => {
      console.log('=== AUTO DEBUG INFO (10s after load) ===');
      window.debugCarousels();
    }, 10000);

    // Console log for debugging
    console.log(
      'Robotech Projects JavaScript with enhanced auto-scroll loaded successfully'
    );
  </script>
</html>
